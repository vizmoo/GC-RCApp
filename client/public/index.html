<!DOCTYPE HTML>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="../css/main.css" />
  <link rel="stylesheet" href="css/style.css" />
  <title>VideoPlayer Sample</title>
</head>

<body>
  <!-- Playlist and Level Chooser Sidebar -->
  <div id="chooseLevelSidebar" style="display:flex" class="ui very wide black inverted left vertical menu sidebar">
    <span id="chooseLevelText" class="ui large yellow text">Choose a playlist</span>
    <div style="margin-bottom: 1em; overflow-x: scroll; overflow-y: scroll;">
      <table class="ui celled table">
        <tbody id="levelList">
        </tbody>
      </table>
    </div>
    <div id="closeSidebarButton" class="ui large button">Cancel</div>
    <div id="usePlaylistOrLevelSidebarButton" class="ui large button">Use This One</div>
    <div class="ui list">
      <div class="item"><span id="detailsTitle" class="ui large yellow text">Playlist details</span></div>
      <div class="item STATE stateCHOOSE_LEVEL" style="display: none"><span id="detailsDifficulty" class="ui medium yellow text">Difficulty: </span></div>
      <div class="item STATE stateCHOOSE_LEVEL" style="display: none"><span id="detailsSong" class="ui medium yellow text">Song: </span></div>
      <div class="item"><span id="detailsCreator" class="ui medium yellow text">Creator: </span></div>
      <div class="item"><span id="detailsDate"class="ui medium yellow text">Date Modified: </span></div>
      <div class="item"><span id="detailsNotes" class="ui medium yellow text">Notes: </span></div>
    </div>
  </div>
  <div class="pusher">
    <div class="ui celled grid">
      <!-- Top control/menu bar -->
      <div id="controlTopbar" class="black row">
        <div class="twenty wide column HIDESTATE statePAIRING stateCONNECTION_REQUESTED stateEXPECTING_GC_STATE stateSystemMenuActive">
          <div class="ui compact grid">
            <div class="three wide column">
              <div class="ui compact grid">
                <div class="row">
                  <span class="ui large yellow text">Level</span>
                </div>
                <div class="row">
                  <span id="levelName" class="ui big yellow text"></span>
                </div>
              </div>
            </div>
            <div class="three wide column">
              <div class="ui compact grid">
                <div class="row">
                  <span class="ui large yellow text">Song</span>
                </div>
                <div class="row">
                  <span id="songName" class="ui big yellow text"></span>
                </div>
              </div>
            </div>
            <div class="two wide column">
              <button id="videoToggleButton" class="ui left floated fluid big black button">
                <span id="videoToggleText" class="ui yellow text">Video On</span>
              </button>
            </div>
            <div class="two wide column">
              <div class="three wide column">
                <div class="ui compact grid">
                  <div class="row">
                    <button id="volumeButton" class="ui left floated fluid big black button">
                      <span id="volumeText" class="ui yellow text">Vol 100</span>
                    </button>
                    <div id="volumeSlider" style="display: none" class="ui slider"></div>             
                  </div>
                </div>
              </div>
            </div>
            <div class="two wide column">
              <button id="scoreToggleButton" class="ui left floated fluid big black button">
                <span id="scoreToggleText" class="ui yellow text">Score Visible 0</span>
              </button>
            </div>
            <div class="two wide column">
              <button id="uiToggleButton" class="ui left floated fluid big black button">
                <span id="uiToggleTextHeader" class="ui yellow text">Headset UI</span>
                <span id="uiToggleText" class="ui yellow text"><i>On/Off</i></span>
              </button>
            </div>
            <div class="two wide column">
              <button id="uiDisconnectButton" class="ui left floated fluid big black button">
                <span id="uiDisconnectText" class="ui yellow text">Disconnect</span>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="black row" id="videoArea">
        <div id="controlSidebar" class="two wide column">
          <div class="ui compact grid HIDESTATE statePAIRING stateCONNECTION_REQUESTED stateEXPECTING_GC_STATE">
            <div class="row">
              <span id="songTimeCurrentText" class="ui big yellow text">00:00</span>
            </div>
            <div class="row">
              <span id="songTimeDurationText" class="ui big yellow text">99:99</span>
            </div>
            <!-- STATE stateUNHANDLED-->
            <div class="row STATE stateUNHANDLED" style="display: none">
              <span class="ui yellow text">Sorry, there was an error!</span>
              <button id="forceCancelButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Force Cancel</span>
              </button>          
            </div>
            <!-- STATE stateStopped -->
            <div class="row STATE stateStopped" style="display: none">
              <button id="chooseLevelButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Choose a level</span>
              </button>          
            </div>
            <div class="row STATE stateStopped" style="display: none">
              <button id="replayLevelButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Replay</span>
              </button>          
            </div>
            <!-- STATE stateCatchingReadyToStart -->
            <div class="row STATE stateCatchingReadyToStart" style="display: none">
              <button id="startCasualButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Start Casual</span>
              </button>          
            </div>
            <div class="row STATE stateCatchingReadyToStart" style="display: none">
              <button id="startCompetitiveButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Start Competitive</span>
              </button>          
            </div>
            <div class="row STATE stateCatchingReadyToStart" style="display: none">
              <button id="cancelStartButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Cancel</span>
              </button>
            </div>  
            <!-- STATE stateCatching -->
            <div class="row STATE stateCatching" style="display: none">
              <button id="pauseButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Pause</span>
              </button>
            </div>
            <!-- STATE stateCatchingPaused -->
            <div class="row STATE stateCatchingPaused" style="display: none">
              <button id="pauseResumeButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Resume</span>
              </button>
            </div>  
            <div class="row STATE stateCatchingPaused" style="display: none">
              <button id="pauseRestartButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Restart</span>
              </button>
            </div>  
            <div class="row STATE stateCatchingPaused" style="display: none">
              <button id="pauseQuitButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Quit Level</span>
              </button>
            </div>
            <!-- STATE stateCalibrating -->
            <div class="row STATE stateCalibrating" style="display: none">
              <button id="calibrationModeButton" class="ui left floated fluid big black button">
                <span id="calibrationModeText" class="ui yellow text">Calibration Mode</span>
              </button>          
            </div>
            <div class="row STATE stateCalibrating" style="display: none">
              <button id="calibratingCancelButton" class="ui left floated fluid big black button">
                <span class="ui yellow text">Cancel</span>
              </button>          
            </div>
            <!-- STATE stateLoadingLevel -->
            <div class="row STATE stateLoadingLevel">
              <span class="ui big yellow text">Level is loading. Please wait...</span>
            </div>
            <!-- Always showing -->
            <!-- STATE mode Text-->
            <div class="row">
              <span id="modeText" class="ui big yellow text">Stopped</span>
            </div>
            <!-- Headset/connection id -->
            <div class="row">
              <span class="ui yellow text">Headset:</span>
            </div>
            <div class="row">
              <span id="headsetId" class="ui big yellow text">[HSID]</span>
            </div>
            <!-- Version text -->
            <div class="row">
              <span class="ui yellow text">Version:</span>
            </div>
            <div class="row">
              <span id="mainVersionText" class="ui yellow text">Version</span>
            </div>
          </div>
        </div>
        <div class="thirteen wide column">
          <!-- STATE statePAIRING -->
          <div> <!-- TODO set 'STATE statePAIRING' just once for this div and have it propogate to child divs-->
            <div class="STATE statePAIRING">
              <span class="ui huge yellow text" style="display: table; margin: 0 auto;">Groove Catcher Remote Control</span>
            </div>
            <div class="STATE statePAIRING">
              <span class="ui big yellow text" id="pairingVersionText" style="display:table; margin: 0 auto;">version...</span>
            </div>
            <div class="STATE statePAIRING" style="text-align: center;">
              <span class="ui big yellow text" style="display: table; margin: 1em auto 1em auto; text-align: center;">Enter or Choose a Headset to Connect</span>
            </div>
            <!-- don't need this since headset is either chosen from clicking button in list, or entering id manually and clicking connect button
            <div class="STATE statePAIRING">
              <span id="selectedHeadsetText" class="ui big yellow text" style="display: table; margin: 0 auto;">Selected: </span>
            </div>
            -->
            <!-- skipping the passcode, for now at least 
            <div class="ui input" style="display: table; margin: 0 auto;">
              <input class="STATE statePAIRING" id="passcodeInput" type="text" placeholder="Enter passcode" >
            </div>
            -->
            <div class="ui input" style="display: table; margin: 0 auto;">
              <input class="STATE statePAIRING" id="headsetIdInput" size="30" type="text" style="font-size:30px; text-transform:lowercase" placeholder="Enter a headset name/id" >
            </div>
            <div>
              <button id="connectToHeadsetButton" class="ui big black button STATE statePAIRING" style="display: table; margin: 0 auto;" >
                <span class="ui big yellow text">Connect</span>
              </button> 
            </div>
          </div>
          <div class="STATE statePAIRING" style="width:650px;height:350px; overflow-x: hidden; overflow-y: scroll; margin: 0 auto; background-color: black; align-items: center;">
            <table id="headsetList" class="ui celled table">
              <tbody>
              </tbody>
            </table>
          </div>
          <div class="STATE statePAIRING">
            <!-- TODO check https://www.npmjs.com/package/wifi-name or similar -->
            <!-- <span id="currentWifi" class="ui big yellow text" style="display: table; margin: 0 auto;">Wifi: [current wifi in use]</span> -->
          </div>
          <div id="connectionRequested" class="STATE stateCONNECTION_REQUESTED">
            <span id="connectionRequestedText" class="ui big yellow text" style="margin:10px;">
              Connection to headset requested...
              <br/>
              <br/>
              If this doesn't work in a moment, you may need to restart the headset and then try again.
            </span>
            <div id="connectionRequestedTryAgainButton" class="ui large button" style="margin:10px;">Try Again</div>
          </div>
          <div id="GCStateExpected" class="STATE stateEXPECTING_GC_STATE">
            <span id="GCStateExpectedText" class="ui big yellow text" style="margin:10px;">Waiting for update from the headset...
              <br/><br/>
              You may need to restart the headset and then try again to connect.
            </span>
            <div id="GCStateExpectedTryAgainButton" class="ui large button" style="margin:10px;">Try Again</div>
          </div>
          <div class="STATE stateSystemMenuActive stateSystemPaused stateSystemOutOfGuardian" 
               style="width: 80%; height: 80%; overflow-x: visible; overflow-y: visible; margin: 0 auto; background-color: red;
                      position: absolute; z-index:9999; border-right:2px solid black; border-bottom:2px solid black; padding: 5px">
            <span id="systemSpecialStateHeaderText" class="ui huge white text" style="margin:10px;">this is set at runtime</span>       
            <span id="systemSpecialStateSpan" class="ui large white text" style="margin:10px;">
              <br/>
              <p id="systemSpecialStateBodyText" class="ui large text" style="color: white">this is set at runtime</p>
              <!--
              <p id="systemMenuActiveBodyText" class="ui large text" style="color: white">The user has pressed the system menu button and paused Groove Catcher.</p>
              <p class="ui large text" style="color: white">Press the system menu button on the user's right controller - it's slightly recessed and has an oval on it.</p>
              -->
            </span>       
          </div>
          <!-- ERROR... TODO -->
          <div style="width: 900px; height: 28px; overflow-x: hidden; overflow-y: hidden; margin-left: auto; margin-top: auto; background-color: black;">
            <span id="errorText" class="ui large yellow text"><i>no error</i></span>       
          </div>
          <div id="player" class="HIDESTATE statePAIRING stateCONNECTION_REQUESTED stateEXPECTING_GC_STATE">  
            <!-- Video Element - gets added here at runtime in main:onSuccessfulPair -->        
            <!-- ***NOTE*** the children of this div get cleared out in main.Disconnect() when it's called-->
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript" src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  <script src="https://unpkg.com/event-target@latest/min.js"></script>
  <script src="https://unpkg.com/resize-observer-polyfill@1.5.0/dist/ResizeObserver.global.js"></script>
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script>
  <script type="module" src="js/main.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="dist/semantic.min.css">
  <script src="/dist/semantic.min.js"></script>

</body>

</html>